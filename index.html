<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 WebMaster Pro - גלריה ואדיטור משולבים</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Base & Reset */
        *, *::before, *::after { box-sizing: border-box; margin:0; padding:0; }
        html, body { width:100%; height:100%; font-family:'Inter',sans-serif; background:#0f172a; color:#f1f5f9; scroll-behavior:smooth; }
        a { text-decoration:none; color:inherit; }
        button { background:none; border:none; cursor:pointer; }
        .container { display:grid; grid-template-rows:auto 1fr auto; grid-template-columns:1fr; height:100vh; gap:1rem; padding:1rem; }
        .header { display:flex; justify-content:space-between; align-items:center; background:rgba(15,23,42,0.8); backdrop-filter:blur(8px); padding:1rem 2rem; border-radius:1rem; position:sticky; top:0; z-index:100; }
        .header-brand h1 { font-size:2rem; font-weight:800; color:#10b981; }
        .header-actions button { padding:0.5rem 1rem; background:#10b981; border-radius:0.5rem; font-weight:600; transition:background 0.3s; color:#0f172a; }
        .header-actions button:hover { background:#0d9776; }
        .gallery { overflow-y:auto; max-height:calc(100vh - 8rem); padding:1rem; }
        .filter-group { display:flex; gap:0.5rem; margin-bottom:1rem; flex-wrap:wrap; }
        .filter-btn { padding:0.5rem 1rem; background:rgba(15,23,42,0.7); border-radius:0.5rem; transition:background 0.3s, color 0.3s; }
        .filter-btn.active { background:#10b981; color:#0f172a; }
        .websites-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:1rem; }
        .website-card { background:rgba(15,23,42,0.8); border-radius:1rem; padding:1rem; display:flex; flex-direction:column; transition:transform 0.3s, box-shadow 0.3s; cursor:pointer; }
        .website-card:hover { transform:translateY(-5px); box-shadow:0 10px 30px rgba(0,0,0,0.5); }
        .card-image img { border-radius:0.5rem; width:100%; height:140px; object-fit:cover; margin-bottom:0.75rem; }
        .website-title { font-size:1.2rem; font-weight:600; color:#10b981; margin-bottom:0.25rem; }
        .website-desc { flex:1; font-size:0.9rem; opacity:0.8; margin-bottom:1rem; }
        .card-actions { display:flex; gap:0.5rem; }
        .btn-edit,.btn-preview { flex:1; padding:0.5rem; border-radius:0.5rem; font-size:0.9rem; font-weight:600; transition:background 0.3s; }
        .btn-edit { background:#10b981; color:#0f172a; }
        .btn-preview { background:rgba(255,255,255,0.1); color:#f1f5f9; }
        /* Editor */
        .editor { display:grid; grid-template-columns:250px 1fr 300px; grid-template-rows:auto 1fr; gap:1rem; height:calc(100vh - 8rem); }
        .sidebar-tools,.sidebar-properties { background:rgba(15,23,42,0.8); backdrop-filter:blur(8px); border-radius:1rem; padding:1rem; overflow-y:auto; }
        .canvas { grid-column:2; grid-row:1/span 2; position:relative; border-radius:1rem; overflow:hidden; background:rgba(255,255,255,0.05); }
        .iframe-container { width:100%; height:100%; position:relative; }
        .preview-iframe { width:100%; height:100%; border:none; transform-origin:top left; transition:transform 0.3s; }
        .loading-overlay { position:absolute; inset:0; background:rgba(0,0,0,0.6); display:flex; flex-direction:column; justify-content:center; align-items:center; color:#f1f5f9; font-size:1.25rem; visibility:hidden; opacity:0; transition:opacity 0.3s; }
        .loading-overlay.visible { visibility:visible; opacity:1; }
        .spinner { width:50px; height:50px; border:4px solid rgba(255,255,255,0.3); border-top-color:#10b981; border-radius:50%; animation:spin 1s linear infinite; margin-bottom:1rem; }
        @keyframes spin { to{transform:rotate(360deg);} }
    </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-brand"><h1>🚀 WebMaster Pro Ultimate</h1></div>
      <div class="header-actions">
        <button onclick="showGallery()">גלריה</button>
        <button id="openEditorBtn" disabled>פתח אדיטור</button>
      </div>
    </header>

    <div id="mainArea">
      <section id="gallerySection" class="gallery">
        <div class="filter-group" id="filterGroup">
          <button class="filter-btn active" onclick="filterWebsites('all')">הכל</button>
          <button class="filter-btn" onclick="filterWebsites('medical')">רפואה</button>
          <button class="filter-btn" onclick="filterWebsites('business')">עסקים</button>
          <button class="filter-btn" onclick="filterWebsites('lifestyle')">לייפסטייל</button>
          <button class="filter-btn" onclick="filterWebsites('premium')">פרמיום</button>
        </div>
        <div class="websites-grid" id="websitesGrid"></div>
      </section>
      <section id="editorSection" class="editor" style="display:none;">
        <div class="sidebar-tools"><h2>🛠 כלים</h2></div>
        <div class="canvas">
          <div class="loading-overlay" id="loadingOverlay"><div class="spinner"></div>טוען...</div>
          <div class="iframe-container"><iframe id="previewFrame" class="preview-iframe"></iframe></div>
        </div>
        <div class="sidebar-properties"><h2>⚙ מאפיינים</h2></div>
      </section>
    </div>

    <footer class="footer"></footer>
  </div>

  <script>
    const websites = [
      { id:'dr-michal-rosen', title:'ד"ר מיכל רוזן', category:'רפואה אסתטית', description:'קליניקה מובילה לרפואה אסתטית ועיצוב פנים מתקדם עם יותר מ-15 שנות ניסיון', price:2800, url:'./websites/dr-michal-rosen.html', image:'https://i.imghippo.com/files/Ayyb2287TOc.png', tags:['medical','premium'] },
      { id:'fitness-co', title:'דני פיט', category:'מאמן אישי', description:'מאמן כושר מקצועי עם מתודות אימון מתקדמות ותוכניות אישיות', price:2200, url:'./websites/fitness-co.html', image:'https://i.imghippo.com/files/WiRp8302YJs.png', tags:['lifestyle','business'] },
      { id:'yoga-studio', title:'סטודיו אוהם', category:'יוגה ומדיטציה', description:'מרכז יוגה ומדיטציה ברוח המזרח הרחוק עם מגוון שיעורים', price:1900, url:'./websites/yoga-studio.html', image:'https://i.imghippo.com/files/eJk7179MXo.png', tags:['lifestyle'] },
      { id:'nutritionist', title:'ד"ר שרה כהן', category:'תזונאית קלינית', description:'תזונה קלינית מבוססת מדע עם תוכניות אישיות לירידה במשקל', price:2400, url:'./websites/nutritionist.html', image:'https://i.imghippo.com/files/rhNp2418oyE.png', tags:['medical','lifestyle'] },
      { id:'law-firm', title:'משרד ברקוביץ', category:'עורכי דין', description:'משרד עורכי דין מקצועי עם התמחות באזרחי, מסחרי ונדל"ן', price:2500, url:'./websites/law-firm.html', image:'https://i.imghippo.com/files/hVyV3858OQ.png', tags:['business'] },
      { id:'accountant', title:'רינה לוי', category:'חשבת שכר', description:'שירותי חשבות שכר מקצועיים לעסקים קטנים ובינוניים', price:2000, url:'./websites/accountant.html', image:'https://i.imghippo.com/files/tGN5433dAU.png', tags:['business'] },
      { id:'beauty-salon', title:'מספרה BELLA', category:'יופי ועיצוב שיער', description:'מספרה מודרנית עם שירותי יופי מקצועיים וטיפולי שיער', price:1700, url:'./websites/beauty-salon.html', image:'https://i.imghippo.com/files/xnK4816Hc.png', tags:['lifestyle'] },
      { id:'tutor', title:'ד"ר רונית לוי', category:'מורה פרטית', description:'הוראה פרטית במתמטיקה ומדעים ברמה אקדמית גבוהה', price:2100, url:'./websites/tutor.html', image:'https://i.imghippo.com/files/Ceu2132Q.png', tags:['business'] },
      { id:'aesthetic-clinic', title:'קליניקת יופי פרמיום', category:'אסתטיקה רפואית', description:'קליניקה יוקרתית לאסתטיקה רפואית ועיצוב פנים ברמה הגבוהה ביותר', price:3200, url:'./websites/aesthetic-clinic.html', image:'https://i.imghippo.com/files/sWlf1880WKM.png', tags:['medical','premium'] },
      { id:'multibrawn', title:'מולטיבראון', category:'נופש ואירועים', description:'אירוח ונופש יוקרתי במלונות בוטיק ברחבי הארץ עם חבילות מותאמות', price:2300, url:'./websites/multibrawn.html', image:'https://i.imghippo.com/files/pL5530Z.png', tags:['lifestyle','premium'] },
      { id:'real-estate', title:'נדל"ן פרמיום', category:'השקעות נדל"ן', description:'השקעות נדל"ן יוקרתיות וייעוץ מקצועי בשוק הנדל"ן הישראלי', price:2700, url:'./websites/real-estate.html', image:'https://i.imghippo.com/files/htWG9491QkE.png', tags:['business','premium'] }
    ];

    function createWebsiteCards() {
        const grid = document.getElementById('websitesGrid');
        grid.innerHTML = '';
        websites.forEach((w,i) => {
            const card = document.createElement('div');
            card.className = 'website-card';
            card.innerHTML = `
                <div class="card-image"><img src="${w.image}" alt="${w.title}"></div>
                <div class="card-content">
                    <div class="website-title">${w.title}</div>
                    <div class="website-desc">${w.description}</div>
                    <div class="card-actions">
                        <a href="${w.url}" class="btn-preview"><i class="fas fa-eye"></i> תצוגה</a>
                        <button class="btn-edit" onclick="editWebsite('${w.id}')"><i class="fas fa-edit"></i> ערוך</button>
                        <button class="btn-buy" onclick="buyWebsite('${w.id}')"><i class="fas fa-shopping-cart"></i> קנה</button>
                    </div>
                </div>`;
            grid.appendChild(card);
        });
    }

    function filterWebsites(filter) {
        document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        document.querySelectorAll('.website-card').forEach(card => {
            card.style.display = (filter==='all' || card.dataset.tags.includes(filter)) ? 'flex' : 'none';
        });
    }

    function editWebsite(id) { localStorage.setItem('currentEditingWebsite', id); document.getElementById('openEditorBtn').disabled=false; }
    function buyWebsite(id) { const w=websites.find(x=>x.id===id); window.open(`https://wa.me/972526359513?text=${encodeURIComponent(`אני רוצה לקנות ${w.title} ב₪${w.price}`)}`, '_blank'); }
    function showGallery(){ document.getElementById('gallerySection').style.display='block'; document.getElementById('editorSection').style.display='none'; }
    window.addEventListener('DOMContentLoaded',()=>createWebsiteCards());
  </script>
</body>
</html>
