<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ WebMaster Pro - AI Website Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --primary:#4f46e5;--success:#10b981;--warning:#f59e0b;--error:#ef4444;--blue:#3b82f6;--purple:#8b5cf6;--glass-bg:rgba(255,255,255,0.08);--glass-border:rgba(255,255,255,0.12);--text:#fff;--text-secondary:#a1a1aa;--bg-dark:#0f0f23; }
        *{margin:0;padding:0;box-sizing:border-box;transition:all .3s ease}
        body{font-family:'Assistant',sans-serif;background:linear-gradient(135deg,var(--bg-dark) 0%,#1e1b4b 50%,#312e81 100%);color:var(--text);height:100vh;overflow:hidden}
        .glass{background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:12px}
        .container{display:grid;grid-template-columns:350px 1fr 400px;grid-template-rows:70px 1fr;height:100vh;gap:2px}
        .header{grid-column:1/-1;background:var(--glass-bg);backdrop-filter:blur(20px);border-bottom:1px solid var(--glass-border);display:flex;align-items:center;justify-content:space-between;padding:0 20px}
        .logo{display:flex;align-items:center;gap:12px;font-weight:800;font-size:20px}
        .logo i{background:linear-gradient(45deg,var(--primary),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:24px}
        .header-center{display:flex;align-items:center;gap:15px}
        .website-selector{min-width:350px;padding:10px 16px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:8px;color:var(--text);font-size:14px;outline:none}
        .status-indicator{display:flex;align-items:center;gap:8px;padding:8px 16px;background:rgba(16,185,129,0.2);border:1px solid var(--success);border-radius:8px;font-size:14px}
        .status-dot{width:8px;height:8px;background:var(--success);border-radius:50%;animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
        .header-actions{display:flex;gap:10px}
        .btn{padding:10px 20px;border:none;border-radius:8px;color:white;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:8px;font-size:14px}
        .btn-primary{background:linear-gradient(135deg,var(--primary),#6366f1)}.btn-success{background:linear-gradient(135deg,var(--success),#059669)}.btn-warning{background:linear-gradient(135deg,var(--warning),#d97706)}
        .left-panel{background:var(--glass-bg);backdrop-filter:blur(20px);border-right:1px solid var(--glass-border);padding:20px;overflow-y:auto}
        .panel-title{font-size:18px;font-weight:700;margin-bottom:20px;color:var(--blue);display:flex;align-items:center;gap:10px}
        .website-card{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;padding:16px;margin-bottom:12px;cursor:pointer}
        .website-card.active{background:linear-gradient(135deg,var(--primary),var(--purple))}
        .center-panel{background:#f0f0f0;position:relative;overflow:hidden}
        .website-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;background:white;color:#666}
        .loading-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;z-index:10}
        .loading-spinner{width:50px;height:50px;border:3px solid rgba(255,255,255,0.3);border-top:3px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        .device-controls{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);display:flex;gap:10px;background:rgba(0,0,0,0.8);padding:10px;border-radius:12px}
        .device-btn{padding:8px 15px;background:rgba(255,255,255,0.2);border:none;border-radius:6px;color:white;cursor:pointer}
        .device-btn.active{background:var(--primary)}
        .right-panel{background:var(--glass-bg);backdrop-filter:blur(20px);border-left:1px solid var(--glass-border);display:flex;flex-direction:column;padding:20px}
        .chat-container{flex:1;display:flex;flex-direction:column;background:rgba(255,255,255,0.05);border-radius:12px;overflow:hidden}
        .chat-messages{flex:1;padding:20px;overflow-y:auto}
        .message{margin-bottom:16px;display:flex;align-items:flex-start;gap:12px}
        .message.user{flex-direction:row-reverse}
        .message-content{background:rgba(255,255,255,0.1);padding:12px 16px;border-radius:12px;max-width:280px}
        .notification{position:fixed;top:90px;right:20px;padding:16px 24px;background:var(--glass-bg);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:12px;color:var(--text);z-index:1000;transform:translateX(450px);transition:transform 0.3s ease}
        .notification.show{transform:translateX(0)}
    </style>
</head>
<body>
    <div class="container">
        <div class="header glass">
            <div class="logo"><i class="fas fa-rocket"></i><span>WebMaster Pro AI</span></div>
            <div class="header-center">
                <select id="websiteSelector" class="website-selector"></select>
                <div id="aiStatus" class="status-indicator"><div class="status-dot"></div><span>AI ××•×›×Ÿ ×œ×¢×‘×•×“×”</span></div>
            </div>
            <div class="header-actions">
                <button id="previewBtn" class="btn btn-primary"><i class="fas fa-eye"></i>×ª×¦×•×’×” ××§×“×™××”</button>
                <button id="publishBtn" class="btn btn-success"><i class="fas fa-rocket"></i>×¤×¨×¡×</button>
                <button id="exportBtn" class="btn btn-warning"><i class="fas fa-download"></i>×™×™×¦×</button>
            </div>
        </div>
        <aside class="left-panel glass">
            <div class="panel-title"><i class="fas fa-globe"></i>×”××ª×¨×™× ×©×œ×š (11)</div>
            <div id="websitesList"></div>
        </aside>
        <section class="center-panel">
            <div id="websitePlaceholder" class="website-placeholder">
                <i class="fas fa-magic"></i><h3>AI ××•×›×Ÿ ×œ×‘× ×•×ª ××ª ×”××ª×¨ ×©×œ×š</h3><p>×‘×—×¨ ××ª×¨ ××”×¨×©×™××”</p>
            </div>
            <div id="loadingOverlay" class="loading-overlay" style="display:none;">
                <div class="loading-spinner"></div><div>×˜×•×¢×Ÿ...</div>
            </div>
            <iframe id="websiteFrame" class="website-frame" style="display:none;"></iframe>
            <div class="device-controls glass">
                <button data-device="desktop" class="device-btn active"><i class="fas fa-desktop"></i></button>
                <button data-device="tablet" class="device-btn"><i class="fas fa-tablet-alt"></i></button>
                <button data-device="mobile" class="device-btn"><i class="fas fa-mobile-alt"></i></button>
            </div>
        </section>
        <aside class="right-panel">
            <div class="chat-container glass">
                <div id="chatMessages" class="chat-messages">
                    <div class="message ai">
                        <div class="message-avatar"><i class="fas fa-robot"></i></div>
                        <div class="message-content">×©×œ×•×! ×‘×—×¨ ××ª×¨ ×œ×”××©×š.</div>
                    </div>
                </div>
                <div class="chat-input-container glass">
                    <div class="chat-input-group">
                        <input id="chatInput" class="chat-input" placeholder="×›×ª×‘×•..." disabled>
                        <button id="chatSend" class="chat-send" disabled><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </aside>
    </div>
    <div id="notification" class="notification"></div>
    <script>
    'use strict';
    let currentWebsite=null,isAIWorking=false,websiteData={},chatHistory=[];
    const websites={
        'dr-michal-rosen':{name:'×“"×¨ ××™×›×œ ×¨×•×–×Ÿ',fullName:'×“"×¨ ××™×›×œ ×¨×•×–×Ÿ - ××¡×ª×˜×™×§×” ×¨×¤×•××™×ª',category:'×¨×¤×•××”',price:2800,status:'××•×›×Ÿ',description:'××¨×¤××” ×œ××¡×ª×˜×™×§×” ×¨×¤×•××™×ª ××ª×§×“××ª'},
        'fitness-co':{name:'×“× ×™ ×¤×™×˜',fullName:'×“× ×™ ×¤×™×˜ - ××××Ÿ ×›×•×©×¨ ××™×©×™',category:'×¡×¤×•×¨×˜',price:2200,status:'××•×›×Ÿ',description:'××××Ÿ ×›×•×©×¨ ××™×©×™ ××§×¦×•×¢×™'},
        'yoga-studio':{name:'×¡×˜×•×“×™×• ××•×”×',fullName:'×¡×˜×•×“×™×• ××•×”× - ×™×•×’×” ×•××“×™×˜×¦×™×”',category:'×‘×¨×™××•×ª',price:1900,status:'××•×›×Ÿ',description:'×¡×˜×•×“×™×• ×™×•×’×” ×•××“×™×˜×¦×™×” ××ª×§×“×'},
        'nutritionist':{name:'×“"×¨ ×©×¨×” ×›×”×Ÿ',fullName:'×“"×¨ ×©×¨×” ×›×”×Ÿ - ×ª×–×•× ××™×ª ×§×œ×™× ×™×ª',category:'×‘×¨×™××•×ª',price:2400,status:'××•×›×Ÿ',description:'×ª×–×•× ××™×ª ×§×œ×™× ×™×ª ××•××—×™×ª'},
        'law-firm':{name:'××©×¨×“ ×‘×¨×§×•×‘×™×¥',fullName:'××©×¨×“ ×‘×¨×§×•×‘×™×¥ - ×¢×•×¨×›×™ ×“×™×Ÿ',category:'××©×¤×˜×™×',price:2500,status:'××•×›×Ÿ',description:'××©×¨×“ ×¢×•×¨×›×™ ×“×™×Ÿ ××•×‘×™×œ'},
        'accountant':{name:'×¨×™× ×” ×œ×•×™',fullName:'×¨×™× ×” ×œ×•×™ - ×—×©×‘×ª ××•×¡××›×ª',category:'×›×¡×¤×™×',price:2000,status:'××•×›×Ÿ',description:'×—×©×‘×ª ××•×¡××›×ª ×•×™×•×¢×¦×ª ×›×¡×¤×™×'},
        'beauty-salon':{name:'××¡×¤×¨×” BELLA',fullName:'××¡×¤×¨×” BELLA - ×™×•×¤×™ ×•×¢×™×¦×•×‘ ×©×™×¢×¨',category:'×™×•×¤×™',price:1700,status:'××•×›×Ÿ',description:'××¡×¤×¨×” ××§×¦×•×¢×™×ª ×œ×™×•×¤×™ ×•×¢×™×¦×•×‘'},
        'tutor':{name:'×“"×¨ ×¨×•× ×™×ª ×œ×•×™',fullName:'×“"×¨ ×¨×•× ×™×ª ×œ×•×™ - ××•×¨×” ×¤×¨×˜×™×ª',category:'×—×™× ×•×š',price:2100,status:'××•×›×Ÿ',description:'××•×¨×” ×¤×¨×˜×™×ª ××§×¦×•×¢×™×ª'},
        'aesthetic-clinic':{name:'×§×œ×™× ×™×§×ª ×™×•×¤×™ ×¤×¨Ù…×™×•×',fullName:'×§×œ×™× ×™×§×ª ×™×•×¤×™ ×¤×¨××™×•× - ××¡×ª×˜×™×§×” ××ª×§×“××ª',category:'×™×•×¤×™',price:3200,status:'××•×›×Ÿ',description:'×§×œ×™× ×™×§×ª ×™×•×¤×™ ×¤×¨××™×•× ×‘×¨××” ×¢×•×œ××™×ª'},
        'multibrawn':{name:'××•×œ×˜×™×‘×¨××•×Ÿ',fullName:'××•×œ×˜×™×‘×¨××•×Ÿ - × ×•×¤×© ×•××™×¨×•×¢×™×',category:'× ×•×¤×©',price:2300,status:'××•×›×Ÿ',description:'×—×‘×¨×ª × ×•×¤×© ×•××™×¨×•×¢×™× ××§×¦×•×¢×™×ª'},
        'real-estate':{name:'× ×“×œ"×Ÿ ×¤×¨××™×•×',fullName:'× ×“×œ"×Ÿ ×¤×¨××™×•× - ×”×©×§×¢×•×ª ×•×ª×™×•×•×š',category:'× ×“×œ"×Ÿ',price:2700,status:'××•×›×Ÿ',description:'×—×‘×¨×ª × ×“×œ"×Ÿ ××•×‘×™×œ×”'}
    };
    function initializeApp(){checkAIAvailability();loadSavedState();}
    function setupEventListeners(){
        document.getElementById('websiteSelector').addEventListener('change',e=>selectWebsite(e.target.value));
        document.getElementById('chatInput').addEventListener('keypress',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}});
        document.getElementById('chatSend').addEventListener('click',sendMessage);
        document.getElementById('previewBtn').addEventListener('click',previewWebsite);
        document.getElementById('publishBtn').addEventListener('click',publishWebsite);
        document.getElementById('exportBtn').addEventListener('click',exportWebsite);
        document.querySelectorAll('.device-btn').forEach(btn=>btn.addEventListener('click',()=>setDeviceView(btn.dataset.device)));
    }
    function loadWebsitesList(){const list=document.getElementById('websitesList'),sel=document.getElementById('websiteSelector');list.innerHTML='';Object.keys(websites).forEach(k=>{const s=websites[k];let opt=document.createElement('option');opt.value=k;opt.textContent=`${s.fullName} (â‚ª${s.price})`;sel.appendChild(opt);let c=document.createElement('div');c.className='website-card';c.onclick=()=>selectWebsite(k);c.innerHTML=`<div class="website-name">${s.name}</div><div class="website-price">â‚ª${s.price}</div>`;list.appendChild(c);});}
    function showNotification(msg,type='info'){let n=document.getElementById('notification');n.textContent=msg;n.className=`notification ${type} show`;setTimeout(()=>n.classList.remove('show'),4000);}    
    function selectWebsite(k){if(!k||!websites[k]){document.getElementById('websitePlaceholder').style.display='flex';document.get... truncated for length
