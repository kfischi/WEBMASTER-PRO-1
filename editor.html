<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ WebMaster Pro - ××“×™×˜×•×¨ ××ª×•×§×Ÿ</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg-primary: #0f0f23;
            --bg-secondary: #1e1e3f;
            --text-primary: #ffffff;
            --text-secondary: #b8b8d4;
            --accent-neon: #00ffff;
            --accent-purple: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --gradient-primary: linear-gradient(135deg, var(--accent-neon) 0%, var(--accent-purple) 100%);
            --gradient-bg: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Heebo', sans-serif;
            background: var(--gradient-bg);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* API Setup Modal */
        .api-setup-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }

        .api-setup-content {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            text-align: center;
        }

        .api-setup-title {
            font-size: 2rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .api-setup-description {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .api-input-group {
            margin-bottom: 1.5rem;
            text-align: right;
        }

        .api-input-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--accent-neon);
        }

        .api-input {
            width: 100%;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 1rem;
            color: var(--text-primary);
            font-size: 0.9rem;
            direction: ltr;
        }

        .api-input:focus {
            outline: none;
            border-color: var(--accent-neon);
            box-shadow: 0 0 20px rgba(0,255,255,0.3);
        }

        .api-btn {
            background: var(--gradient-primary);
            border: none;
            border-radius: 12px;
            padding: 1rem 2rem;
            color: var(--bg-primary);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
        }

        .api-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px rgba(0,255,255,0.4);
        }

        .api-btn.secondary {
            background: var(--glass-bg);
            color: var(--text-primary);
            border: 1px solid var(--glass-border);
        }

        .api-status {
            margin-top: 1rem;
            padding: 0.8rem;
            border-radius: 10px;
            font-size: 0.9rem;
            display: none;
        }

        .api-status.success {
            background: rgba(16,185,129,0.2);
            border: 1px solid var(--success);
            color: var(--success);
            display: block;
        }

        .api-status.error {
            background: rgba(239,68,68,0.2);
            border: 1px solid var(--error);
            color: var(--error);
            display: block;
        }

        /* Main Layout */
        .editor-container {
            display: grid;
            grid-template-rows: 70px 1fr 50px;
            height: 100vh;
        }

        .editor-header {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .website-selector {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 0.5rem 1rem;
            color: var(--text-primary);
            font-size: 0.9rem;
            min-width: 350px;
            cursor: pointer;
        }

        .btn {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn:hover {
            background: var(--accent-neon);
            color: var(--bg-primary);
            transform: translateY(-2px);
        }

        .btn.primary {
            background: var(--gradient-primary);
            color: var(--bg-primary);
            font-weight: 600;
        }

        .btn.success {
            background: var(--success);
            color: white;
        }

        /* Main Content */
        .main-content {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
        }

        .welcome-content {
            max-width: 800px;
        }

        .welcome-title {
            font-size: 3rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .welcome-subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,255,255,0.2);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--accent-neon);
        }

        .feature-description {
            opacity: 0.8;
            line-height: 1.6;
        }

        .ai-demo {
            background: linear-gradient(135deg, rgba(0,255,255,0.1) 0%, rgba(139,92,246,0.1) 100%);
            border: 2px solid rgba(0,255,255,0.3);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .ai-input {
            width: 100%;
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 1rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }

        .ai-execute-btn {
            background: var(--gradient-primary);
            border: none;
            border-radius: 12px;
            padding: 1rem 2rem;
            color: var(--bg-primary);
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ai-execute-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 40px rgba(0,255,255,0.4);
        }

        .ai-execute-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .ai-result {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(16,185,129,0.1);
            border: 1px solid var(--success);
            border-radius: 10px;
            display: none;
        }

        /* Status Bar */
        .status-bar {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border);
            padding: 0.7rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success);
            margin-left: 0.5rem;
            animation: pulse 2s infinite;
        }

        .status-indicator.working {
            background: var(--warning);
            animation: fastPulse 0.5s infinite;
        }

        .status-indicator.error {
            background: var(--error);
            animation: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes fastPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            color: var(--text-primary);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
            max-width: 400px;
            min-width: 300px;
        }

        .notification.success {
            border-left: 4px solid var(--success);
        }

        .notification.error {
            border-left: 4px solid var(--error);
        }

        .notification.warning {
            border-left: 4px solid var(--warning);
        }

        .notification.info {
            border-left: 4px solid var(--accent-neon);
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .website-selector {
                min-width: 200px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- API Setup Modal -->
    <div class="api-setup-modal" id="apiSetupModal">
        <div class="api-setup-content">
            <h2 class="api-setup-title">ğŸ”‘ ×”×’×“×¨×ª API Keys</h2>
            <p class="api-setup-description">
                ×”×›× ×¡ ××ª ×”-API Keys ×©×œ×š ×›×“×™ ×œ×”×¤×¢×™×œ ××ª ×”×™×›×•×œ×•×ª ×”××ª×§×“××•×ª.<br>
                <strong>×”××™×“×¢ × ×©××¨ ××§×•××™×ª ××¦×œ×š ×‘×“×¤×“×¤×Ÿ ×‘×œ×‘×“!</strong>
            </p>
            
            <div class="api-input-group">
                <label class="api-input-label">OpenAI API Key (×—×•×‘×”):</label>
                <input type="password" class="api-input" id="openaiKey" placeholder="sk-proj-..." />
            </div>
            
            <div class="api-input-group">
                <label class="api-input-label">Claude API Key (××•×¤×¦×™×•× ×œ×™):</label>
                <input type="password" class="api-input" id="claudeKey" placeholder="sk-ant-..." />
            </div>
            
            <div class="api-status" id="apiStatus"></div>
            
            <div>
                <button class="api-btn" onclick="testAndSaveAPIKeys()">
                    <i class="fas fa-check"></i>
                    ×‘×“×•×§ ×•×©××•×¨
                </button>
                <button class="api-btn secondary" onclick="skipAPISetup()">
                    ×“×œ×’ ×œ×¢×ª ×¢×ª×”
                </button>
            </div>
        </div>
    </div>

    <!-- Main Editor -->
    <div class="editor-container" id="editorContainer">
        
        <!-- Header -->
        <div class="editor-header">
            <div class="logo">
                <i class="fas fa-rocket"></i>
                WebMaster Pro
            </div>
            
            <select class="website-selector" id="websiteSelector" onchange="loadWebsite(this.value)">
                <option value="">ğŸ¯ ×‘×—×¨ ××ª×¨ ×œ×¢×¨×™×›×”</option>
                <option value="demo1">×“"×¨ ××™×›×œ ×¨×•×–×Ÿ - ×¨×¤×•××” ××¡×ª×˜×™×ª (â‚ª2,800)</option>
                <option value="demo2">×“× ×™ ×¤×™×˜ - ××××Ÿ ×›×•×©×¨ (â‚ª2,200)</option>
                <option value="demo3">×¡×˜×•×“×™×• ××•×”× - ×™×•×’×” (â‚ª1,900)</option>
            </select>
            
            <div style="display: flex; gap: 0.5rem;">
                <button class="btn" onclick="openAPISettings()" title="×”×’×“×¨×•×ª API">
                    <i class="fas fa-key"></i>
                    API Keys
                </button>
                <button class="btn success" onclick="testAI()" title="×‘×“×™×§×ª AI">
                    <i class="fas fa-robot"></i>
                    ×‘×“×•×§ AI
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="welcome-content">
                <h1 class="welcome-title">ğŸš€ WebMaster Pro</h1>
                <p class="welcome-subtitle">××“×™×˜×•×¨ ×•×™×–×•××œ×™ ××ª×§×“× ×¢× AI ×××™×ª×™</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¤–</div>
                        <h3 class="feature-title">AI ××ª×§×“×</h3>
                        <p class="feature-description">×™×¦×™×¨×ª ×ª×•×›×Ÿ ×•×¢×™×¦×•×‘ ××•×˜×•××˜×™ ×¢× OpenAI ×•-Claude</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¨</div>
                        <h3 class="feature-title">×¢×¨×™×›×” ×—×™×”</h3>
                        <p class="feature-description">×¢×¨×™×›×ª ××ª×¨×™× ×‘×–××Ÿ ×××ª ×¢× ×›×œ×™× ××§×¦×•×¢×™×™×</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’¾</div>
                        <h3 class="feature-title">×©××™×¨×” ×‘×¢× ×Ÿ</h3>
                        <p class="feature-description">×¡× ×›×¨×•×Ÿ ××•×˜×•××˜×™ ×¢× Supabase ×•×©××™×¨×” ×××•×‘×˜×—×ª</p>
                    </div>
                </div>

                <!-- AI Demo -->
                <div class="ai-demo">
                    <h3 style="margin-bottom: 1rem; color: var(--accent-neon);">ğŸ§ª ×‘×“×™×§×ª AI</h3>
                    <textarea 
                        class="ai-input" 
                        id="aiDemoInput" 
                        placeholder="× ×¡×” ××ª ×”-AI: ×›×ª×•×‘ '×¦×•×¨ ×›×•×ª×¨×ª ×œ××¨×¤××ª ×©×™× ×™×™×' ×•×œ×—×¥ ×¢×œ ×”×›×¤×ª×•×¨"
                    ></textarea>
                    <button class="ai-execute-btn" onclick="testAI()" id="aiDemoBtn">
                        <i class="fas fa-magic"></i>
                        ×‘×“×•×§ AI ×¢×›×©×™×•
                    </button>
                    <div class="ai-result" id="aiDemoResult"></div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div style="display: flex; align-items: center;">
                <span id="statusText">××•×›×Ÿ ×œ×¢×‘×•×“×”</span>
                <div class="status-indicator" id="statusIndicator"></div>
            </div>
            <div id="apiConnectionStatus">
                API: ×œ× ××—×•×‘×¨
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let apiKeys = {};
        let isAPIConnected = false;

        // Load saved API keys
        function loadAPIKeys() {
            try {
                const savedKeys = localStorage.getItem('webmaster_api_keys');
                if (savedKeys) {
                    apiKeys = JSON.parse(savedKeys);
                    updateAPIStatus();
                    return true;
                }
            } catch (error) {
                console.error('Error loading API keys:', error);
            }
            return false;
        }

        // Save API keys
        function saveAPIKeys() {
            try {
                localStorage.setItem('webmaster_api_keys', JSON.stringify(apiKeys));
                console.log('âœ… API Keys saved successfully');
            } catch (error) {
                console.error('âŒ Error saving API keys:', error);
            }
        }

        // Test and save API keys
        async function testAndSaveAPIKeys() {
            console.log('ğŸ”„ Testing API keys...');
            
            const openaiKey = document.getElementById('openaiKey').value.trim();
            const claudeKey = document.getElementById('claudeKey').value.trim();

            // Basic validation
            if (!openaiKey && !claudeKey) {
                showAPIStatus('error', '× ×“×¨×© ×œ×¤×—×•×ª OpenAI ××• Claude API key');
                return;
            }

            if (openaiKey && !openaiKey.startsWith('sk-')) {
                showAPIStatus('error', 'OpenAI API key ×—×™×™×‘ ×œ×”×ª×—×™×œ ×‘-sk-');
                return;
            }

            if (claudeKey && !claudeKey.startsWith('sk-ant-')) {
                showAPIStatus('error', 'Claude API key ×—×™×™×‘ ×œ×”×ª×—×™×œ ×‘-sk-ant-');
                return;
            }

            // Save keys
            apiKeys = {
                openai: openaiKey,
                claude: claudeKey,
                timestamp: new Date().toISOString()
            };

            saveAPIKeys();
            
            showAPIStatus('success', 'API Keys × ×©××¨×• ×‘×”×¦×œ×—×”! ×‘×•×“×§ ×—×™×‘×•×¨...');
            
            // Test connection
            let testResults = [];
            
            if (openaiKey) {
                try {
                    const result = await testOpenAIConnection(openaiKey);
                    testResults.push(result);
                } catch (error) {
                    testResults.push({ service: 'OpenAI', success: false, error: error.message });
                }
            }

            if (claudeKey) {
                try {
                    const result = await testClaudeConnection(claudeKey);
                    testResults.push(result);
                } catch (error) {
                    testResults.push({ service: 'Claude', success: false, error: error.message });
                }
            }

            // Show results
            const successCount = testResults.filter(r => r.success).length;
            if (successCount > 0) {
                isAPIConnected = true;
                updateAPIStatus();
                hideAPISetup();
                showNotification(`âœ… ${successCount} API(s) ××—×•×‘×¨×™× ×‘×”×¦×œ×—×”!`, 'success');
            } else {
                showAPIStatus('error', '×©×’×™××” ×‘×—×™×‘×•×¨ ×œ-APIs. ×‘×“×•×§ ××ª ×”××¤×ª×—×•×ª ×•×”×—×™×‘×•×¨ ×œ××™× ×˜×¨× ×˜.');
            }
        }

        // Test OpenAI connection
        async function testOpenAIConnection(apiKey) {
            console.log('ğŸ”„ Testing OpenAI connection...');
            
            try {
                const response = await fetch('https://api.openai.com/v1/models', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    console.log('âœ… OpenAI connection successful');
                    return { service: 'OpenAI', success: true };
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error('âŒ OpenAI connection failed:', error);
                throw error;
            }
        }

        // Test Claude connection
        async function testClaudeConnection(apiKey) {
            console.log('ğŸ”„ Testing Claude connection...');
            
            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'x-api-key': apiKey,
                        'Content-Type': 'application/json',
                        'anthropic-version': '2023-06-01'
                    },
                    body: JSON.stringify({
                        model: "claude-3-haiku-20240307",
                        max_tokens: 10,
                        messages: [
                            {
                                role: "user",
                                content: "Test"
                            }
                        ]
                    })
                });

                if (response.ok || response.status === 400) { // 400 is also OK for connection test
                    console.log('âœ… Claude connection successful');
                    return { service: 'Claude', success: true };
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error('âŒ Claude connection failed:', error);
                throw error;
            }
        }

        // Call OpenAI API
        async function callOpenAI(prompt) {
            if (!apiKeys.openai) {
                throw new Error('OpenAI API key not configured');
            }

            try {
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKeys.openai}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "gpt-4o-mini",
                        messages: [
                            {
                                role: "system",
                                content: "You are a professional web designer and content creator. Always respond in Hebrew when creating content for Hebrew websites."
                            },
                            {
                                role: "user", 
                                content: prompt
                            }
                        ],
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error(`OpenAI API error: ${response.status} ${response.statusText}`);
                }

                const data = await response.json();
                return data.choices[0].message.content;
            } catch (error) {
                console.error('OpenAI API error:', error);
                throw error;
            }
        }

        // Test AI functionality
        async function testAI() {
            console.log('ğŸ¤– Testing AI functionality...');
            
            if (!isAPIConnected) {
                showNotification('âŒ ×œ× ××—×•×‘×¨ ×œ-API. ×”×’×“×¨ API Keys ×ª×—×™×œ×”.', 'error');
                openAPISettings();
                return;
            }

            const input = document.getElementById('aiDemoInput');
            const btn = document.getElementById('aiDemoBtn');
            const result = document.getElementById('aiDemoResult');
            
            let prompt = input.value.trim();
            if (!prompt) {
                prompt = '×¦×•×¨ ×›×•×ª×¨×ª ××•×©×›×ª ×œ××¨×¤××ª ×©×™× ×™×™× ××•×“×¨× ×™×ª';
                input.value = prompt;
            }

            // Update UI
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> AI ×¢×•×‘×“...';
            updateStatus('AI ××¢×‘×“...', 'working');
            
            try {
                const response = await callOpenAI(prompt);
                
                // Show result
                result.innerHTML = `<strong>×ª×©×•×‘×ª AI:</strong><br>${response}`;
                result.style.display = 'block';
                
                showNotification('âœ… AI ×¢×•×‘×“ ××¢×•×œ×”!', 'success');
                updateStatus('AI ×–××™×Ÿ ×•×¤×¢×™×œ', 'ready');
                
            } catch (error) {
                console.error('AI Test Error:', error);
                result.innerHTML = `<strong>×©×’×™××”:</strong> ${error.message}`;
                result.style.display = 'block';
                result.style.borderColor = 'var(--error)';
                result.style.backgroundColor = 'rgba(239,68,68,0.1)';
                
                showNotification('âŒ ×©×’×™××” ×‘-AI: ' + error.message, 'error');
                updateStatus('×©×’×™××” ×‘-AI', 'error');
            }
            
            // Reset button
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-magic"></i> ×‘×“×•×§ AI ×¢×›×©×™×•';
        }

        // Skip API setup
        function skipAPISetup() {
            hideAPISetup();
            showNotification('× ×™×ª×Ÿ ×œ×”×’×“×™×¨ API Keys ×××•×—×¨ ×™×•×ª×¨ ×“×¨×š ×›×¤×ª×•×¨ "API Keys"', 'info');
        }

        // Open API settings
        function openAPISettings() {
            if (apiKeys.openai || apiKeys.claude) {
                document.getElementById('openaiKey').value = apiKeys.openai || '';
                document.getElementById('claudeKey').value = apiKeys.claude || '';
            }
            document.getElementById('apiSetupModal').style.display = 'flex';
        }

        // Hide API setup
        function hideAPISetup() {
            document.getElementById('apiSetupModal').style.display = 'none';
        }

        // Show API status
        function showAPIStatus(type, message) {
            const status = document.getElementById('apiStatus');
            status.className = `api-status ${type}`;
            status.textContent = message;
        }

        // Update API status
        function updateAPIStatus() {
            const statusElement = document.getElementById('apiConnectionStatus');
            if (apiKeys.openai || apiKeys.claude) {
                statusElement.textContent = 'API: ××—×•×‘×¨ âœ“';
                statusElement.style.color = 'var(--success)';
                isAPIConnected = true;
            } else {
                statusElement.textContent = 'API: ×œ× ××—×•×‘×¨';
                statusElement.style.color = 'var(--error)';
                isAPIConnected = false;
            }
        }

        // Update status
        function updateStatus(message, type) {
            document.getElementById('statusText').textContent = message;
            const indicator = document.getElementById('statusIndicator');
            
            indicator.className = 'status-indicator';
            if (type === 'working') {
                indicator.classList.add('working');
            } else if (type === 'error') {
                indicator.classList.add('error');
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            console.log(`ğŸ“¢ ${type.toUpperCase()}: ${message}`);
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `<i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : type === 'warning' ? 'exclamation-triangle' : 'info'}"></i> ${message}`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Load website (placeholder)
        function loadWebsite(websiteKey) {
            if (!websiteKey) return;
            
            showNotification(`×˜×•×¢×Ÿ ××ª×¨: ${websiteKey}`, 'info');
            updateStatus('×˜×•×¢×Ÿ ××ª×¨...', 'working');
            
            setTimeout(() => {
                updateStatus('××ª×¨ × ×˜×¢×Ÿ ×‘×”×¦×œ×—×”', 'ready');
                showNotification('××ª×¨ ××•×›×Ÿ ×œ×¢×¨×™×›×”', 'success');
            }, 1000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ WebMaster Pro Editor Loading...');
            
            // Load saved API keys
            if (loadAPIKeys()) {
                hideAPISetup();
                updateStatus('××•×›×Ÿ ×œ×¢×‘×•×“×”', 'ready');
                showNotification('ğŸš€ WebMaster Pro ××•×›×Ÿ ×œ×¢×‘×•×“×”!', 'success');
            } else {
                // Show API setup modal
                document.getElementById('apiSetupModal').style.display = 'flex';
            }
            
            console.log('âœ… Editor initialized successfully');
        });

        // Debug function
        function debugAPI() {
            console.log('ğŸ” Debug Info:');
            console.log('API Keys:', Object.keys(apiKeys));
            console.log('Is Connected:', isAPIConnected);
            console.log('LocalStorage:', localStorage.getItem('webmaster_api_keys'));
        }

        // Make debug available globally
        window.debugAPI = debugAPI;
        
        console.log('ğŸš€ WebMaster Pro Editor Loaded Successfully!');
        console.log('ğŸ’¡ Type debugAPI() in console for troubleshooting');
    </script>
</body>
</html>
